/** 
 * jQuery-USOS *BUNDLE VERSION* -- this file includes all jQuery-USOS 
 * JavaScript dependencies except jQuery and jQuery-UI. 
 */ 
 
/*
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};function E(F){return typeof F==="string"}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);J=K[3]||"";if(G===2&&E(I)){L=I.replace(H?w:x,"")}else{N=l(K[2]);I=E(I)?l[H?D:A](I):I;L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);L=a(L);if(H){L=L.replace(h,r)}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J}else{O=M(F!==i?F:p[g][k])}return O}a[A]=B(f,0,o);a[D]=c=B(f,1,n);c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")};c.noEscape(",/");$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");R=R.shift().split("[").concat(R);N=R.length-1}else{N=0}if(K.length===2){J=r(K[1]);if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J}if(N){for(;M<=N;M++){P=R[M]===""?O.length:R[M];O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J}}else{if($.isArray(H[P])){H[P].push(J)}else{if(H[P]!==i){H[P]=[H[P],J]}else{H[P]=J}}}}else{if(P){H[P]=F?i:""}}});return H};function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;F=a[H?D:A]()}else{F=E(F)?F.replace(H?w:x,""):F}return l(F,G)}l[A]=B(z,0);l[D]=v=B(z,1);$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});j=$[y];function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;H=G;G=i}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}$.fn[A]=B(s,A);$.fn[D]=B(s,D);b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")};b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]};b.removeState=function(F){var G={};if(F!==i){G=u();$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})}q(G,2)};e[d]=$.extend(e[d],{add:function(F){var H;function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]};H.apply(this,arguments)}if($.isFunction(F)){H=F;return G}else{H=F.handler;F.handler=G}}})})(jQuery,this);
/*
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,i,b){var j,k=$.event.special,c="location",d="hashchange",l="href",f=$.browser,g=document.documentMode,h=f.msie&&(g===b||g<8),e="on"+d in i&&!h;function a(m){m=m||i[c][l];return m.replace(/^[^#]*#?(.*)$/,"$1")}$[d+"Delay"]=100;k[d]=$.extend(k[d],{setup:function(){if(e){return false}$(j.start)},teardown:function(){if(e){return false}$(j.stop)}});j=(function(){var m={},r,n,o,q;function p(){o=q=function(s){return s};if(h){n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;q=function(){return a(n.document[c][l])};o=function(u,s){if(u!==s){var t=n.document;t.open().close();t[c].hash="#"+u}};o(a())}}m.start=function(){if(r){return}var t=a();o||p();(function s(){var v=a(),u=q(t);if(v!==t){o(t=v,u);$(i).trigger(d)}else{if(u!==t){i[c][l]=i[c][l].replace(/#.*/,"")+"#"+u}}r=setTimeout(s,$[d+"Delay"])})()};m.stop=function(){if(!n){r&&clearTimeout(r);r=0}};return m})()})(jQuery,this); 
//colResizable - by Alvaro Prieto Lauroba - MIT & GPL
(function(a){function h(b){var c=a(this).data(q),d=m[c.t],e=d.g[c.i];e.ox=b.pageX;e.l=e[I]()[H];i[D](E+q,f)[D](F+q,g);P[z](x+"*{cursor:"+d.opt.dragCursor+K+J);e[B](d.opt.draggingClass);l=e;if(d.c[c.i].l)for(b=0;b<d.ln;b++)c=d.c[b],c.l=j,c.w=c[u]();return j}function g(b){i.unbind(E+q).unbind(F+q);a("head :last-child").remove();if(l){l[A](l.t.opt.draggingClass);var f=l.t,g=f.opt.onResize;l.x&&(e(f,l.i,1),d(f),g&&(b[G]=f[0],g(b)));f.p&&O&&c(f);l=k}}function f(a){if(l){var b=l.t,c=a.pageX-l.ox+l.l,f=b.opt.minWidth,g=l.i,h=1.5*b.cs+f+b.b,i=g==b.ln-1?b.w-h:b.g[g+1][I]()[H]-b.cs-f,f=g?b.g[g-1][I]()[H]+b.cs+f:h,c=s.max(f,s.min(i,c));l.x=c;l.css(H,c+p);if(b.opt.liveDrag&&(e(b,g),d(b),c=b.opt.onDrag))a[G]=b[0],c(a)}return j}function e(a,b,c){var d=l.x-l.l,e=a.c[b],f=a.c[b+1],g=e.w+d,d=f.w-d;e[u](g+p);f[u](d+p);a.cg.eq(b)[u](g+p);a.cg.eq(b+1)[u](d+p);if(c)e.w=g,f.w=d}function d(a){a.gc[u](a.w);for(var b=0;b<a.ln;b++){var c=a.c[b];a.g[b].css({left:c.offset().left-a.offset()[H]+c.outerWidth()+a.cs/2+p,height:a.opt.headerOnly?a.c[0].outerHeight():a.outerHeight()})}}function c(a,b){var c,d=0,e=0,f=[];if(b)if(a.cg[C](u),a.opt.flush)O[a.id]="";else{for(c=O[a.id].split(";");e<a.ln;e++)f[y](100*c[e]/c[a.ln]+"%"),b.eq(e).css(u,f[e]);for(e=0;e<a.ln;e++)a.cg.eq(e).css(u,f[e])}else{O[a.id]="";for(e in a.c)c=a.c[e][u](),O[a.id]+=c+";",d+=c;O[a.id]+=d}}function b(b){var e=">thead>tr>",f='"></div>',g=">tbody>tr:first>",i=">tr:first>",j="td",k="th",l=b.find(e+k+","+e+j);l.length||(l=b.find(g+k+","+i+k+","+g+j+","+i+j));b.cg=b.find("col");b.ln=l.length;b.p&&O&&O[b.id]&&c(b,l);l.each(function(c){var d=a(this),e=a(b.gc[z](w+"CRG"+f)[0].lastChild);e.t=b;e.i=c;e.c=d;d.w=d[u]();b.g[y](e);b.c[y](d);d[u](d.w)[C](u);if(c<b.ln-1)e.mousedown(h)[z](b.opt.gripInnerHtml)[z](w+q+'" style="cursor:'+b.opt.hoverCursor+f);else e[B]("CRL")[A]("CRG");e.data(q,{i:c,t:b[v](o)})});b.cg[C](u);d(b);b.find("td, th").not(l).not(N+"th, table td").each(function(){a(this)[C](u)})}var i=a(document),j=!1,k=null,l=k,m=[],n=0,o="id",p="px",q="CRZ",r=parseInt,s=Math,t=a.browser.msie,u="width",v="attr",w='<div class="',x="<style type='text/css'>",y="push",z="append",A="removeClass",B="addClass",C="removeAttr",D="bind",E="mousemove.",F="mouseup.",G="currentTarget",H="left",I="position",J="}</style>",K="!important;",L=":0px"+K,M="resize",N="table",O,P=a("head")[z](x+".CRC{height:0px;"+I+":relative;}.CRG{margin-left:-5px;"+I+":absolute;z-index:5;}.CRG .CRZ{"+I+":absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px}.CRL{"+I+":absolute;width:1px}.CRD{ border-left:1px dotted black"+J);try{O=sessionStorage}catch(Q){}a(window)[D](M+"."+q,function(){for(a in m){var a=m[a],b,c=0;a[A](q);if(a.w!=a[u]()){a.w=a[u]();for(b=0;b<a.ln;b++)c+=a.c[b].w;for(b=0;b<a.ln;b++)a.c[b].css(u,s.round(1e3*a.c[b].w/c)/10+"%").l=1}d(a[B](q))}});a.fn.extend({colResizable:function(c){c=a.extend({draggingClass:"CRD",gripInnerHtml:"",liveDrag:j,minWidth:15,headerOnly:j,hoverCursor:"e-"+M,dragCursor:"e-"+M,postbackSafe:j,flush:j,marginLeft:k,marginRight:k,disable:j,onDrag:k,onResize:k},c);return this.each(function(){var d=c,e=a(this);if(d.disable){if(e=e[v](o),(d=m[e])&&d.is(N))d[A](q).gc.remove(),delete m[e]}else{var f=e.id=e[v](o)||q+n++;e.p=d.postbackSafe;if(e.is(N)&&!m[f])e[B](q)[v](o,f).before(w+'CRC"/>'),e.opt=d,e.g=[],e.c=[],e.w=e[u](),e.gc=e.prev(),d.marginLeft&&e.gc.css("marginLeft",d.marginLeft),d.marginRight&&e.gc.css("marginRight",d.marginRight),e.cs=r(t?this.cellSpacing||this.currentStyle.borderSpacing:e.css("border-spacing"))||2,e.b=r(t?this.border||this.currentStyle.borderLeftWidth:e.css("border-"+H+"-"+u))||1,m[f]=e,b(e)}})}})})(jQuery); 
/**
 * jQuery TextExt Plugin
 * http://textextjs.com
 *
 * @version 1.3.1
 * @copyright Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 * @license MIT License
 */
;(function(a,b){function c(){}function d(){}function e(){}function x(a,b){typeof b=="string"&&(b=b.split("."));var c=b.join(".").replace(/\.(\w)/g,function(a,b){return b.toUpperCase()}),d=b.shift(),e;return typeof (e=a[c])!=i?e=e:typeof (e=a[d])!=i&&b.length>0&&(e=x(e,b)),e}function y(){function e(a,d){c.bind(a,function(){return d.apply(b,arguments)})}var a=g.apply(arguments),b=this,c=a.length===1?b:a.shift(),d;a=a[0]||{};for(d in a)e(d,a[d])}function z(a,b){return{input:a,form:b}}var f=(JSON||{}).stringify,g=Array.prototype.slice,h,i="undefined",j="item.manager",k="plugins",l="ext",m="html.wrap",n="html.hidden",o="keys",p="preInvalidate",q="postInvalidate",r="getFormData",s="setFormData",t="setInputData",u="postInit",v="ready",w={itemManager:d,plugins:[],ext:{},html:{wrap:'<div class="text-core"><div class="text-wrap"/></div>',hidden:'<input type="hidden" />'},keys:{8:"backspace",9:"tab",13:"enter!",27:"escape!",37:"left",38:"up!",39:"right",40:"down!",46:"delete",108:"numpadEnter"}};if(!f)throw new Error("JSON.stringify() not found");h=d.prototype,h.init=function(a){},h.filter=function(a,b){var c=[],d,e;for(d=0;d<a.length;d++)e=a[d],this.itemContains(e,b)&&c.push(e);return c},h.itemContains=function(a,b){return this.itemToString(a).toLowerCase().indexOf(b.toLowerCase())==0},h.stringToItem=function(a){return a},h.itemToString=function(a){return a},h.compareItems=function(a,b){return a==b},h=c.prototype,h.init=function(b,c){var d=this,e,f,g;d._defaults=a.extend({},w),d._opts=c||{},d._plugins={},d._itemManager=f=new(d.opts(j)),b=a(b),g=a(d.opts(m)),e=a(d.opts(n)),b.wrap(g).keydown(function(a){return d.onKeyDown(a)}).keyup(function(a){return d.onKeyUp(a)}).data("textext",d),a(d).data({hiddenInput:e,wrapElement:b.parents(".text-wrap").first(),input:b}),e.attr("name",b.attr("name")),b.attr("name",null),e.insertAfter(b),a.extend(!0,f,d.opts(l+".item.manager")),a.extend(!0,d,d.opts(l+".*"),d.opts(l+".core")),d.originalWidth=b.outerWidth(),d.invalidateBounds(),f.init(d),d.initPatches(),d.initPlugins(d.opts(k),a.fn.textext.plugins),d.on({setFormData:d.onSetFormData,getFormData:d.onGetFormData,setInputData:d.onSetInputData,anyKeyUp:d.onAnyKeyUp}),d.trigger(u),d.trigger(v),d.getFormData(0)},h.initPatches=function(){var b=[],c=a.fn.textext.patches,d;for(d in c)b.push(d);this.initPlugins(b,c)},h.initPlugins=function(b,c){var d=this,e,f,g,h=[],i;typeof b=="string"&&(b=b.split(/\s*,\s*|\s+/g));for(i=0;i<b.length;i++)f=b[i],g=c[f],g&&(d._plugins[f]=g=new g,d[f]=function(a){return function(){return a}}(g),h.push(g),a.extend(!0,g,d.opts(l+".*"),d.opts(l+"."+f)));h.sort(function(a,b){return a=a.initPriority(),b=b.initPriority(),a===b?0:a<b?1:-1});for(i=0;i<h.length;i++)h[i].init(d)},h.hasPlugin=function(a){return!!this._plugins[a]},h.on=y,h.bind=function(a,b){this.input().bind(a,b)},h.trigger=function(){var a=arguments;this.input().trigger(a[0],g.call(a,1))},h.itemManager=function(){return this._itemManager},h.input=function(){return a(this).data("input")},h.opts=function(a){var b=x(this._opts,a);return typeof b=="undefined"?x(this._defaults,a):b},h.wrapElement=function(){return a(this).data("wrapElement")},h.invalidateBounds=function(){var a=this,b=a.input(),c=a.wrapElement(),d=c.parent(),e=a.originalWidth+"px",f;a.trigger(p),f=b.outerHeight()+"px",b.css({width:e}),c.css({width:e,height:f}),d.css({height:f}),a.trigger(q)},h.focusInput=function(){this.input()[0].focus()},h.serializeData=f,h.hiddenInput=function(b){return a(this).data("hiddenInput")},h.getWeightedEventResponse=function(a,b){var c=this,d={},e=0;c.trigger(a,d,b);for(var f in d)e=Math.max(e,f);return d[e]},h.getFormData=function(a){var b=this,c=b.getWeightedEventResponse(r,a||0);b.trigger(s,c.form),b.trigger(t,c.input)},h.onAnyKeyUp=function(a,b){this.getFormData(b)},h.onSetInputData=function(a,b){this.input().val(b)},h.onSetFormData=function(a,b){var c=this;c.hiddenInput().val(c.serializeData(b))},h.onGetFormData=function(a,b){var c=this.input().val();b[0]=z(c,c)},a(["Down","Up"]).each(function(){var a=this.toString();h["onKey"+a]=function(b){var c=this,d=c.opts(o)[b.keyCode],e=!0;return d&&(e=d.substr(-1)!="!",d=d.replace("!",""),c.trigger(d+"Key"+a),a=="Up"&&c._lastKeyDown==b.keyCode&&(c._lastKeyDown=null,c.trigger(d+"KeyPress")),a=="Down"&&(c._lastKeyDown=b.keyCode)),c.trigger("anyKey"+a,b.keyCode),e}}),h=e.prototype,h.on=y,h.formDataObject=z,h.init=function(a){throw new Error("Not implemented")},h.baseInit=function(b,c){var d=this;b._defaults=a.extend(!0,b._defaults,c),d._core=b,d._timers={}},h.startTimer=function(a,b,c){var d=this;d.stopTimer(a),d._timers[a]=setTimeout(function(){delete d._timers[a],c.apply(d)},b*1e3)},h.stopTimer=function(a){clearTimeout(this._timers[a])},h.core=function(){return this._core},h.opts=function(a){return this.core().opts(a)},h.itemManager=function(){return this.core().itemManager()},h.input=function(){return this.core().input()},h.val=function(a){var b=this.input();if(typeof a===i)return b.val();b.val(a)},h.trigger=function(){var a=this.core();a.trigger.apply(a,arguments)},h.bind=function(a,b){this.core().bind(a,b)},h.initPriority=function(){return 0};var A=!1,B=a.fn.textext=function(b){var d;return!A&&(d=a.fn.textext.css)!=null&&(a("head").append("<style>"+d+"</style>"),A=!0),this.map(function(){var d=a(this);if(b==null)return d.data("textext");var e=new c;return e.init(d,b),d.data("textext",e),e.input()[0]})};B.addPlugin=function(a,b){B.plugins[a]=b,b.prototype=new B.TextExtPlugin},B.addPatch=function(a,b){B.patches[a]=b,b.prototype=new B.TextExtPlugin},B.TextExt=c,B.TextExtPlugin=e,B.ItemManager=d,B.plugins={},B.patches={}})(jQuery),function(a){function b(){}a.fn.textext.TextExtIE9Patches=b,a.fn.textext.addPatch("ie9",b);var c=b.prototype;c.init=function(a){if(navigator.userAgent.indexOf("MSIE 9")==-1)return;var b=this;a.on({postInvalidate:b.onPostInvalidate})},c.onPostInvalidate=function(){var a=this,b=a.input(),c=b.val();b.val(Math.random()),b.val(c)}}(jQuery);(function(a){function b(){}a.fn.textext.TextExtAjax=b,a.fn.textext.addPlugin("ajax",b);var c=b.prototype,d="ajax.data.callback",e="ajax.cache.results",f="ajax.loading.delay",g="ajax.loading.message",h="ajax.type.delay",i="setSuggestions",j="showDropdown",k="loading",l={ajax:{typeDelay:.5,loadingMessage:"Loading...",loadingDelay:.5,cacheResults:!1,dataCallback:null}};c.init=function(a){var b=this;b.baseInit(a,l),b.on({getSuggestions:b.onGetSuggestions}),b._suggestions=null},c.load=function(b){var c=this,e=c.opts(d)||function(a){return{q:a}},f;f=a.extend(!0,{data:e(b),success:function(a){c.onComplete(a,b)},error:function(a,c){console.error(c,b)}},c.opts("ajax")),a.ajax(f)},c.onComplete=function(a,b){var c=this,d=a;c.dontShowLoading(),c.opts(e)==1&&(c._suggestions=a,d=c.itemManager().filter(a,b)),c.trigger(i,{result:d})},c.dontShowLoading=function(){this.stopTimer(k)},c.showLoading=function(){var a=this;a.dontShowLoading(),a.startTimer(k,a.opts(f),function(){a.trigger(j,function(b){b.clearItems();var c=b.addDropdownItem(a.opts(g));c.addClass("text-loading")})})},c.onGetSuggestions=function(a,b){var c=this,d=c._suggestions,f=(b||{}).query||"";if(d&&c.opts(e)===!0)return c.onComplete(d,f);c.startTimer("ajax",c.opts(h),function(){c.showLoading(),c.load(f)})}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtArrow=b,a.fn.textext.addPlugin("arrow",b);var c=b.prototype,d="html.arrow",e={html:{arrow:'<div class="text-arrow"/>'}};c.init=function(b){var c=this,f;c.baseInit(b,e),c._arrow=f=a(c.opts(d)),c.core().wrapElement().append(f),f.bind("click",function(a){c.onArrowClick(a)})},c.onArrowClick=function(a){this.trigger("toggleDropdown"),this.core().focusInput()}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtAutocomplete=b,a.fn.textext.addPlugin("autocomplete",b);var c=b.prototype,d=".",e="text-selected",f=d+e,g="text-suggestion",h=d+g,i="text-label",j=d+i,k="autocomplete.enabled",l="autocomplete.dropdown.position",m="autocomplete.dropdown.maxHeight",n="autocomplete.render",o="html.dropdown",p="html.suggestion",q="hideDropdown",r="showDropdown",s="getSuggestions",t="getFormData",u="toggleDropdown",v="above",w="below",x="mousedownOnAutocomplete",y={autocomplete:{enabled:!0,dropdown:{position:w,maxHeight:"100px"}},html:{dropdown:'<div class="text-dropdown"><div class="text-list"/></div>',suggestion:'<div class="text-suggestion"><span class="text-label"/></div>'}};c.init=function(b){var c=this;c.baseInit(b,y);var d=c.input(),e;c.opts(k)===!0&&(c.on({blur:c.onBlur,anyKeyUp:c.onAnyKeyUp,deleteKeyUp:c.onAnyKeyUp,backspaceKeyPress:c.onBackspaceKeyPress,enterKeyPress:c.onEnterKeyPress,escapeKeyPress:c.onEscapeKeyPress,setSuggestions:c.onSetSuggestions,showDropdown:c.onShowDropdown,hideDropdown:c.onHideDropdown,toggleDropdown:c.onToggleDropdown,postInvalidate:c.positionDropdown,getFormData:c.onGetFormData,downKeyDown:c.onDownKeyDown,upKeyDown:c.onUpKeyDown}),e=a(c.opts(o)),e.insertAfter(d),c.on(e,{mouseover:c.onMouseOver,mousedown:c.onMouseDown,click:c.onClick}),e.css("maxHeight",c.opts(m)).addClass("text-position-"+c.opts(l)),a(c).data("container",e),a(document.body).click(function(a){c.isDropdownVisible()&&!c.withinWrapElement(a.target)&&c.trigger(q)}),c.positionDropdown())},c.containerElement=function(){return a(this).data("container")},c.onMouseOver=function(b){var c=this,d=a(b.target);d.is(h)&&(c.clearSelected(),d.addClass(e))},c.onMouseDown=function(a){this.containerElement().data(x,!0)},c.onClick=function(b){var c=this,d=a(b.target);(d.is(h)||d.is(j))&&c.trigger("enterKeyPress"),c.core().hasPlugin("tags")&&c.val("")},c.onBlur=function(a){var b=this,c=b.containerElement(),d=c.data(x)===!0;b.isDropdownVisible()&&(d?b.core().focusInput():b.trigger(q)),c.removeData(x)},c.onBackspaceKeyPress=function(a){var b=this,c=b.val().length>0;(c||b.isDropdownVisible())&&b.getSuggestions()},c.onAnyKeyUp=function(a,b){var c=this,d=c.opts("keys."+b)!=null;c.val().length>0&&!d&&c.getSuggestions()},c.onDownKeyDown=function(a){var b=this;b.isDropdownVisible()?b.toggleNextSuggestion():b.getSuggestions()},c.onUpKeyDown=function(a){this.togglePreviousSuggestion()},c.onEnterKeyPress=function(a){var b=this;b.isDropdownVisible()&&b.selectFromDropdown()},c.onEscapeKeyPress=function(a){var b=this;b.isDropdownVisible()&&b.trigger(q)},c.positionDropdown=function(){var a=this,b=a.containerElement(),c=a.opts(l),d=a.core().wrapElement().outerHeight(),e={};e[c===v?"bottom":"top"]=d+"px",b.css(e)},c.suggestionElements=function(){return this.containerElement().find(h)},c.setSelectedSuggestion=function(b){if(!b)return;var c=this,d=c.suggestionElements(),f=d.first(),h,i;c.clearSelected();for(i=0;i<d.length;i++){h=a(d[i]);if(c.itemManager().compareItems(h.data(g),b)){f=h.addClass(e);break}}f.addClass(e),c.scrollSuggestionIntoView(f)},c.selectedSuggestionElement=function(){return this.suggestionElements().filter(f).first()},c.isDropdownVisible=function(){return this.containerElement().is(":visible")===!0},c.onGetFormData=function(a,b,c){var d=this,e=d.val(),f=e,g=e;b[100]=d.formDataObject(f,g)},c.initPriority=function(){return 200},c.onHideDropdown=function(a){this.hideDropdown()},c.onToggleDropdown=function(a){var b=this;b.trigger(b.containerElement().is(":visible")?q:r)},c.onShowDropdown=function(b,c){var d=this,e=d.selectedSuggestionElement().data(g),f=d._suggestions;if(!f)return d.trigger(s);a.isFunction(c)?c(d):(d.renderSuggestions(d._suggestions),d.toggleNextSuggestion()),d.showDropdown(d.containerElement()),d.setSelectedSuggestion(e)},c.onSetSuggestions=function(a,b){var c=this,d=c._suggestions=b.result;b.showHideDropdown!==!1&&c.trigger(d===null||d.length===0?q:r)},c.getSuggestions=function(){var a=this,b=a.val();if(a._previousInputValue==b)return;b==""&&(current=null),a._previousInputValue=b,a.trigger(s,{query:b})},c.clearItems=function(){this.containerElement().find(".text-list").children().remove()},c.renderSuggestions=function(b){var c=this;c.clearItems(),a.each(b||[],function(a,b){c.addSuggestion(b)})},c.showDropdown=function(){this.containerElement().show()},c.hideDropdown=function(){var a=this,b=a.containerElement();a._previousInputValue=null,b.hide()},c.addSuggestion=function(a){var b=this,c=b.opts(n),d=b.addDropdownItem(c?c.call(b,a):b.itemManager().itemToString(a));d.data(g,a)},c.addDropdownItem=function(b){var c=this,d=c.containerElement().find(".text-list"),e=a(c.opts(p));return e.find(".text-label").html(b),d.append(e),e},c.clearSelected=function(){this.suggestionElements().removeClass(e)},c.toggleNextSuggestion=function(){var a=this,b=a.selectedSuggestionElement(),c;b.length>0?(c=b.next(),c.length>0&&b.removeClass(e)):c=a.suggestionElements().first(),c.addClass(e),a.scrollSuggestionIntoView(c)},c.togglePreviousSuggestion=function(){var a=this,b=a.selectedSuggestionElement(),c=b.prev();if(c.length==0)return;a.clearSelected(),c.addClass(e),a.scrollSuggestionIntoView(c)},c.scrollSuggestionIntoView=function(a){var b=a.outerHeight(),c=this.containerElement(),d=c.innerHeight(),e=c.scrollTop(),f=(a.position()||{}).top,g=null,h=parseInt(c.css("paddingTop"));if(f==null)return;f+b>d&&(g=f+e+b-d+h),f<0&&(g=f+e-h),g!=null&&c.scrollTop(g)},c.selectFromDropdown=function(){var a=this,b=a.selectedSuggestionElement().data(g);b&&(a.val(a.itemManager().itemToString(b)),a.core().getFormData()),a.trigger(q)},c.withinWrapElement=function(a){return this.core().wrapElement().find(a).size()>0}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtFilter=b,a.fn.textext.addPlugin("filter",b);var c=b.prototype,d="filter.enabled",e="filter.items",f={filter:{enabled:!0,items:null}};c.init=function(a){var b=this;b.baseInit(a,f),b.on({getFormData:b.onGetFormData,isTagAllowed:b.onIsTagAllowed,setSuggestions:b.onSetSuggestions}),b._suggestions=null},c.onGetFormData=function(a,b,c){var d=this,e=d.val(),f=e,g="";d.core().hasPlugin("tags")||(d.isValueAllowed(f)&&(g=e),b[300]=d.formDataObject(f,g))},c.isValueAllowed=function(a){var b=this,c=b.opts("filterItems")||b._suggestions||[],e=b.itemManager(),f=!b.opts(d),g;for(g=0;g<c.length&&!f;g++)e.compareItems(a,c[g])&&(f=!0);return f},c.onIsTagAllowed=function(a,b){b.result=this.isValueAllowed(b.tag)},c.onSetSuggestions=function(a,b){this._suggestions=b.result}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtFocus=b,a.fn.textext.addPlugin("focus",b);var c=b.prototype,d="html.focus",e={html:{focus:'<div class="text-focus"/>'}};c.init=function(a){var b=this;b.baseInit(a,e),b.core().wrapElement().append(b.opts(d)),b.on({blur:b.onBlur,focus:b.onFocus}),b._timeoutId=0},c.onBlur=function(a){var b=this;clearTimeout(b._timeoutId),b._timeoutId=setTimeout(function(){b.getFocus().hide()},100)},c.onFocus=function(a){var b=this;clearTimeout(b._timeoutId),b.getFocus().show()},c.getFocus=function(){return this.core().wrapElement().find(".text-focus")}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtPrompt=b,a.fn.textext.addPlugin("prompt",b);var c=b.prototype,d="text-hide-prompt",e="prompt",f="html.prompt",g={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};c.init=function(b){var c=this,d="placeholder",h,i;c.baseInit(b,g),h=a(c.opts(f)),a(c).data("container",h),c.core().wrapElement().append(h),c.setPrompt(c.opts(e)),i=b.input().attr(d),i||(i=c.opts(e)),b.input().attr(d,""),i&&c.setPrompt(i),a.trim(c.val()).length>0&&c.hidePrompt(),c.on({blur:c.onBlur,focus:c.onFocus,postInvalidate:c.onPostInvalidate,postInit:c.onPostInit})},c.onPostInit=function(a){this.invalidateBounds()},c.onPostInvalidate=function(a){this.invalidateBounds()},c.invalidateBounds=function(){var a=this,b=a.input();a.containerElement().css({paddingLeft:b.css("paddingLeft"),paddingTop:b.css("paddingTop")})},c.onBlur=function(a){var b=this;b.startTimer("prompt",.1,function(){b.showPrompt()})},c.showPrompt=function(){var b=this,c=b.input();a.trim(b.val()).length===0&&!c.is(":focus")&&b.containerElement().removeClass(d)},c.hidePrompt=function(){this.stopTimer("prompt"),this.containerElement().addClass(d)},c.onFocus=function(a){this.hidePrompt()},c.setPrompt=function(a){this.containerElement().text(a)},c.containerElement=function(){return a(this).data("container")}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtSuggestions=b,a.fn.textext.addPlugin("suggestions",b);var c=b.prototype,d="suggestions",e={suggestions:null};c.init=function(a){var b=this;b.baseInit(a,e),b.on({getSuggestions:b.onGetSuggestions,postInit:b.onPostInit})},c.setSuggestions=function(a,b){this.trigger("setSuggestions",{result:a,showHideDropdown:b!=0})},c.onPostInit=function(a){var b=this;b.setSuggestions(b.opts(d),!1)},c.onGetSuggestions=function(a,b){var c=this,e=c.opts(d);e.sort(),c.setSuggestions(c.itemManager().filter(e,b.query))}})(jQuery);(function(a){function b(){}a.fn.textext.TextExtTags=b,a.fn.textext.addPlugin("tags",b);var c=b.prototype,d=".",e="text-tags-on-top",f=d+e,g="text-tag",h=d+g,i="text-tags",j=d+i,k="text-label",l=d+k,m="text-remove",n=d+m,o="tags.enabled",p="tags.items",q="html.tag",r="html.tags",s="isTagAllowed",t="tagClick",u={tags:{enabled:!0,items:null},html:{tags:'<div class="text-tags"/>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="text-remove"/></div></div>'}};c.init=function(b){this.baseInit(b,u);var c=this,d=c.input(),e;c.opts(o)&&(e=a(c.opts(r)),d.after(e),a(c).data("container",e),c.on({enterKeyPress:c.onEnterKeyPress,backspaceKeyDown:c.onBackspaceKeyDown,preInvalidate:c.onPreInvalidate,postInit:c.onPostInit,getFormData:c.onGetFormData}),c.on(e,{click:c.onClick,mousemove:c.onContainerMouseMove}),c.on(d,{mousemove:c.onInputMouseMove})),c._originalPadding={left:parseInt(d.css("paddingLeft")||0),top:parseInt(d.css("paddingTop")||0)},c._paddingBox={left:0,top:0},c.updateFormCache()},c.containerElement=function(){return a(this).data("container")},c.onPostInit=function(a){var b=this;b.addTags(b.opts(p))},c.onGetFormData=function(a,b,c){var d=this,e=c===13?"":d.val(),f=d._formData;b[200]=d.formDataObject(e,f)},c.initPriority=function(){return 100},c.onInputMouseMove=function(a){this.toggleZIndex(a)},c.onContainerMouseMove=function(a){this.toggleZIndex(a)},c.onBackspaceKeyDown=function(a){var b=this,c=b.tagElements().last();b.val().length==0&&b.removeTag(c)},c.onPreInvalidate=function(a){var b=this,c=b.tagElements().last(),d=c.position();c.length>0?d.left+=c.innerWidth():d=b._originalPadding,b._paddingBox=d,b.input().css({paddingLeft:d.left,paddingTop:d.top})},c.onClick=function(b){function k(a,b){i.data(g,a),i.find(l).text(c.itemManager().itemToString(a)),c.updateFormCache(),d.getFormData(),d.invalidateBounds(),b&&d.focusInput()}var c=this,d=c.core(),e=a(b.target),f=0,i;e.is(j)?f=1:e.is(n)?(c.removeTag(e.parents(h+":first")),f=1):e.is(l)&&(i=e.parents(h+":first"),c.trigger(t,i,i.data(g),k)),f&&d.focusInput()},c.onEnterKeyPress=function(a){var b=this,c=b.val(),d=b.itemManager().stringToItem(c);b.isTagAllowed(d)&&(b.addTags([d]),b.core().focusInput())},c.updateFormCache=function(){var b=this,c=[];b.tagElements().each(function(){c.push(a(this).data(g))}),b._formData=c},c.toggleZIndex=function(a){var b=this,c=b.input().offset(),d=a.clientX-c.left,g=a.clientY-c.top,h=b._paddingBox,i=b.containerElement(),j=i.is(f),k=d>h.left&&g>h.top;(!j&&!k||j&&k)&&i[(j?"remove":"add")+"Class"](e)},c.tagElements=function(){return this.containerElement().find(h)},c.isTagAllowed=function(a){var b={tag:a,result:!0};return this.trigger(s,b),b.result===!0},c.addTags=function(a){if(!a||a.length==0)return;var b=this,c=b.core(),d=b.containerElement(),e,f;for(e=0;e<a.length;e++)f=a[e],f&&b.isTagAllowed(f)&&d.append(b.renderTag(f));b.updateFormCache(),c.getFormData(),c.invalidateBounds()},c.getTagElement=function(b){var c=this,d=c.tagElements(),e,f;for(e=0;e<d.length,f=a(d[e]);e++)if(c.itemManager().compareItems(f.data(g),b))return f},c.removeTag=function(b){var c=this,d=c.core(),e;b instanceof a?(e=b,b=b.data(g)):e=c.getTagElement(b),e.remove(),c.updateFormCache(),d.getFormData(),d.invalidateBounds()},c.renderTag=function(b){var c=this,d=a(c.opts(q));return d.find(".text-label").text(c.itemManager().itemToString(b)),d.data(g,b),d}})(jQuery); 
(function(d,f,g,b){var e="tooltipster",c={animation:"fade",arrow:true,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(l,m){m()},functionReady:function(l,m){},functionAfter:function(l){},icon:"(?)",iconDesktop:false,iconTouch:false,iconTheme:".tooltipster-icon",interactive:false,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:true,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:true,trigger:"hover",updateAnimation:true};function h(m,l){this.element=m;this.options=d.extend({},c,l);this._defaults=c;this._name=e;this.init()}function j(){return !!("ontouchstart" in f)}function a(){var l=g.body||g.documentElement;var n=l.style;var o="transition";if(typeof n[o]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],o=o.charAt(0).toUpperCase()+o.substr(1);for(var m=0;m<v.length;m++){if(typeof n[v[m]+o]=="string"){return true}}return false}var k=true;if(!a()){k=false}h.prototype={init:function(){var r=d(this.element);var n=this;var q=true;if((n.options.touchDevices==false)&&(j())){q=false}if(g.all&&!g.querySelector){q=false}if(q==true){if((this.options.iconDesktop==true)&&(!j())||((this.options.iconTouch==true)&&(j()))){var m=r.attr("title");r.removeAttr("title");var p=n.options.iconTheme;var o=d('<span class="'+p.replace(".","")+'" title="'+m+'">'+this.options.icon+"</span>");o.insertAfter(r);r.data("tooltipsterIcon",o);r=o}var l=d.trim(n.options.content).length>0?n.options.content:r.attr("title");r.data("tooltipsterContent",l);r.removeAttr("title");if((this.options.touchDevices==true)&&(j())){r.bind("touchstart",function(t,s){n.showTooltip()})}else{if(this.options.trigger=="hover"){r.on("mouseenter.tooltipster",function(){n.showTooltip()});if(this.options.interactive==true){r.on("mouseleave.tooltipster",function(){var t=r.data("tooltipster");var u=false;if((t!==b)&&(t!=="")){t.mouseenter(function(){u=true});t.mouseleave(function(){u=false});var s=setTimeout(function(){if(u==true){t.mouseleave(function(){n.hideTooltip()})}else{n.hideTooltip()}},n.options.interactiveTolerance)}else{n.hideTooltip()}})}else{r.on("mouseleave.tooltipster",function(){n.hideTooltip()})}}if(this.options.trigger=="click"){r.on("click.tooltipster",function(){if((r.data("tooltipster")=="")||(r.data("tooltipster")==b)){n.showTooltip()}else{n.hideTooltip()}})}}}},showTooltip:function(m){var n=d(this.element);var l=this;if(n.data("tooltipsterIcon")!==b){n=n.data("tooltipsterIcon")}if(!n.hasClass("tooltipster-disable")){if((d(".tooltipster-base").not(".tooltipster-dying").length>0)&&(l.options.onlyOne==true)){d(".tooltipster-base").not(".tooltipster-dying").not(n.data("tooltipster")).each(function(){d(this).addClass("tooltipster-kill");var o=d(this).data("origin");o.data("plugin_tooltipster").hideTooltip()})}n.clearQueue().delay(l.options.delay).queue(function(){l.options.functionBefore(n,function(){if((n.data("tooltipster")!==b)&&(n.data("tooltipster")!=="")){var w=n.data("tooltipster");if(!w.hasClass("tooltipster-kill")){var s="tooltipster-"+l.options.animation;w.removeClass("tooltipster-dying");if(k==true){w.clearQueue().addClass(s+"-show")}if(l.options.timer>0){var q=w.data("tooltipsterTimer");clearTimeout(q);q=setTimeout(function(){w.data("tooltipsterTimer",b);l.hideTooltip()},l.options.timer);w.data("tooltipsterTimer",q)}if((l.options.touchDevices==true)&&(j())){d("body").bind("touchstart",function(B){if(l.options.interactive==true){var D=d(B.target);var C=true;D.parents().each(function(){if(d(this).hasClass("tooltipster-base")){C=false}});if(C==true){l.hideTooltip();d("body").unbind("touchstart")}}else{l.hideTooltip();d("body").unbind("touchstart")}})}}}else{d("body").css("overflow-x","hidden");var x=n.data("tooltipsterContent");var u=l.options.theme;var y=u.replace(".","");var s="tooltipster-"+l.options.animation;var r="-webkit-transition-duration: "+l.options.speed+"ms; -webkit-animation-duration: "+l.options.speed+"ms; -moz-transition-duration: "+l.options.speed+"ms; -moz-animation-duration: "+l.options.speed+"ms; -o-transition-duration: "+l.options.speed+"ms; -o-animation-duration: "+l.options.speed+"ms; -ms-transition-duration: "+l.options.speed+"ms; -ms-animation-duration: "+l.options.speed+"ms; transition-duration: "+l.options.speed+"ms; animation-duration: "+l.options.speed+"ms;";var o=l.options.fixedWidth>0?"width:"+l.options.fixedWidth+"px;":"";var z=l.options.maxWidth>0?"max-width:"+l.options.maxWidth+"px;":"";var t=l.options.interactive==true?"pointer-events: auto;":"";var w=d('<div class="tooltipster-base '+y+" "+s+'" style="'+o+" "+z+" "+t+" "+r+'"><div class="tooltipster-content">'+x+"</div></div>");w.appendTo("body");n.data("tooltipster",w);w.data("origin",n);l.positionTooltip();l.options.functionReady(n,w);if(k==true){w.addClass(s+"-show")}else{w.css("display","none").removeClass(s).fadeIn(l.options.speed)}var A=x;var p=setInterval(function(){var B=n.data("tooltipsterContent");if(d("body").find(n).length==0){w.addClass("tooltipster-dying");l.hideTooltip()}else{if((A!==B)&&(B!=="")){A=B;w.find(".tooltipster-content").html(B);if(l.options.updateAnimation==true){if(a()){w.css({width:"","-webkit-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+l.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing");setTimeout(function(){w.removeClass("tooltipster-content-changing");setTimeout(function(){w.css({"-webkit-transition":l.options.speed+"ms","-moz-transition":l.options.speed+"ms","-o-transition":l.options.speed+"ms","-ms-transition":l.options.speed+"ms",transition:l.options.speed+"ms"})},l.options.speed)},l.options.speed)}else{w.fadeTo(l.options.speed,0.5,function(){w.fadeTo(l.options.speed,1)})}}l.positionTooltip()}}if((d("body").find(w).length==0)||(d("body").find(n).length==0)){clearInterval(p)}},200);if(l.options.timer>0){var q=setTimeout(function(){w.data("tooltipsterTimer",b);l.hideTooltip()},l.options.timer+l.options.speed);w.data("tooltipsterTimer",q)}if((l.options.touchDevices==true)&&(j())){d("body").bind("touchstart",function(B){if(l.options.interactive==true){var D=d(B.target);var C=true;D.parents().each(function(){if(d(this).hasClass("tooltipster-base")){C=false}});if(C==true){l.hideTooltip();d("body").unbind("touchstart")}}else{l.hideTooltip();d("body").unbind("touchstart")}})}w.mouseleave(function(){l.hideTooltip()})}});n.dequeue()})}},hideTooltip:function(m){var p=d(this.element);var l=this;if(p.data("tooltipsterIcon")!==b){p=p.data("tooltipsterIcon")}var o=p.data("tooltipster");if(o==b){o=d(".tooltipster-dying")}p.clearQueue();if((o!==b)&&(o!=="")){var q=o.data("tooltipsterTimer");if(q!==b){clearTimeout(q)}var n="tooltipster-"+l.options.animation;if(k==true){o.clearQueue().removeClass(n+"-show").addClass("tooltipster-dying").delay(l.options.speed).queue(function(){o.remove();p.data("tooltipster","");d("body").css("verflow-x","");l.options.functionAfter(p)})}else{o.clearQueue().addClass("tooltipster-dying").fadeOut(l.options.speed,function(){o.remove();p.data("tooltipster","");d("body").css("verflow-x","");l.options.functionAfter(p)})}}},positionTooltip:function(O){var A=d(this.element);var ab=this;if(A.data("tooltipsterIcon")!==b){A=A.data("tooltipsterIcon")}if((A.data("tooltipster")!==b)&&(A.data("tooltipster")!=="")){var ah=A.data("tooltipster");ah.css("width","");var ai=d(f).width();var B=A.outerWidth(false);var ag=A.outerHeight(false);var al=ah.outerWidth(false);var m=ah.innerWidth()+1;var M=ah.outerHeight(false);var aa=A.offset();var Z=aa.top;var u=aa.left;var y=b;if(A.is("area")){var T=A.attr("shape");var af=A.parent().attr("name");var P=d('img[usemap="#'+af+'"]');var n=P.offset().left;var L=P.offset().top;var W=A.attr("coords")!==b?A.attr("coords").split(","):b;if(T=="circle"){var N=parseInt(W[0]);var r=parseInt(W[1]);var D=parseInt(W[2]);ag=D*2;B=D*2;Z=L+r-D;u=n+N-D}else{if(T=="rect"){var N=parseInt(W[0]);var r=parseInt(W[1]);var q=parseInt(W[2]);var J=parseInt(W[3]);ag=J-r;B=q-N;Z=L+r;u=n+N}else{if(T=="poly"){var x=[];var ae=[];var H=0,G=0,ad=0,ac=0;var aj="even";for(i=0;i<W.length;i++){var F=parseInt(W[i]);if(aj=="even"){if(F>ad){ad=F;if(i==0){H=ad}}if(F<H){H=F}aj="odd"}else{if(F>ac){ac=F;if(i==1){G=ac}}if(F<G){G=F}aj="even"}}ag=ac-G;B=ad-H;Z=L+G;u=n+H}else{ag=P.outerHeight(false);B=P.outerWidth(false);Z=L;u=n}}}}if(ab.options.fixedWidth==0){ah.css({width:m+"px","padding-left":"0px","padding-right":"0px"})}var s=0,V=0;var X=parseInt(ab.options.offsetY);var Y=parseInt(ab.options.offsetX);var p="";function w(){var an=d(f).scrollLeft();if((s-an)<0){var am=s-an;s=an;ah.data("arrow-reposition",am)}if(((s+al)-an)>ai){var am=s-((ai+an)-al);s=(ai+an)-al;ah.data("arrow-reposition",am)}}function t(an,am){if(((Z-d(f).scrollTop()-M-X-12)<0)&&(am.indexOf("top")>-1)){ab.options.position=an;y=am}if(((Z+ag+M+12+X)>(d(f).scrollTop()+d(f).height()))&&(am.indexOf("bottom")>-1)){ab.options.position=an;y=am;V=(Z-M)-X-12}}if(ab.options.position=="top"){var Q=(u+al)-(u+B);s=(u+Y)-(Q/2);V=(Z-M)-X-12;w();t("bottom","top")}if(ab.options.position=="top-left"){s=u+Y;V=(Z-M)-X-12;w();t("bottom-left","top-left")}if(ab.options.position=="top-right"){s=(u+B+Y)-al;V=(Z-M)-X-12;w();t("bottom-right","top-right")}if(ab.options.position=="bottom"){var Q=(u+al)-(u+B);s=u-(Q/2)+Y;V=(Z+ag)+X+12;w();t("top","bottom")}if(ab.options.position=="bottom-left"){s=u+Y;V=(Z+ag)+X+12;w();t("top-left","bottom-left")}if(ab.options.position=="bottom-right"){s=(u+B+Y)-al;V=(Z+ag)+X+12;w();t("top-right","bottom-right")}if(ab.options.position=="left"){s=u-Y-al-12;myLeftMirror=u+Y+B+12;var K=(Z+M)-(Z+A.outerHeight(false));V=Z-(K/2)-X;if((s<0)&&((myLeftMirror+al)>ai)){var o=parseFloat(ah.css("border-width"))*2;var l=(al+s)-o;ah.css("width",l+"px");M=ah.outerHeight(false);s=u-Y-l-12-o;K=(Z+M)-(Z+A.outerHeight(false));V=Z-(K/2)-X}else{if(s<0){s=u+Y+B+12;ah.data("arrow-reposition","left")}}}if(ab.options.position=="right"){s=u+Y+B+12;myLeftMirror=u-Y-al-12;var K=(Z+M)-(Z+A.outerHeight(false));V=Z-(K/2)-X;if(((s+al)>ai)&&(myLeftMirror<0)){var o=parseFloat(ah.css("border-width"))*2;var l=(ai-s)-o;ah.css("width",l+"px");M=ah.outerHeight(false);K=(Z+M)-(Z+A.outerHeight(false));V=Z-(K/2)-X}else{if((s+al)>ai){s=u-Y-al-12;ah.data("arrow-reposition","right")}}}if(ab.options.arrow==true){var I="tooltipster-arrow-"+ab.options.position;if(ab.options.arrowColor.length<1){var R=ah.css("background-color")}else{var R=ab.options.arrowColor}var ak=ah.data("arrow-reposition");if(!ak){ak=""}else{if(ak=="left"){I="tooltipster-arrow-right";ak=""}else{if(ak=="right"){I="tooltipster-arrow-left";ak=""}else{ak="left:"+ak+"px;"}}}if((ab.options.position=="top")||(ab.options.position=="top-left")||(ab.options.position=="top-right")){var U=parseFloat(ah.css("border-bottom-width"));var z=ah.css("border-bottom-color")}else{if((ab.options.position=="bottom")||(ab.options.position=="bottom-left")||(ab.options.position=="bottom-right")){var U=parseFloat(ah.css("border-top-width"));var z=ah.css("border-top-color")}else{if(ab.options.position=="left"){var U=parseFloat(ah.css("border-right-width"));var z=ah.css("border-right-color")}else{if(ab.options.position=="right"){var U=parseFloat(ah.css("border-left-width"));var z=ah.css("border-left-color")}else{var U=parseFloat(ah.css("border-bottom-width"));var z=ah.css("border-bottom-color")}}}}if(U>1){U++}var E="";if(U!==0){var C="";var S="border-color: "+z+";";if(I.indexOf("bottom")!==-1){C="margin-top: -"+U+"px;"}else{if(I.indexOf("top")!==-1){C="margin-bottom: -"+U+"px;"}else{if(I.indexOf("left")!==-1){C="margin-right: -"+U+"px;"}else{if(I.indexOf("right")!==-1){C="margin-left: -"+U+"px;"}}}}E='<span class="tooltipster-arrow-border" style="'+C+" "+S+';"></span>'}ah.find(".tooltipster-arrow").remove();p='<div class="'+I+' tooltipster-arrow" style="'+ak+'">'+E+'<span style="border-color:'+R+';"></span></div>';ah.append(p)}ah.css({top:V+"px",left:s+"px"});if(y!==b){ab.options.position=y}}}};d.fn[e]=function(m){if(typeof m==="string"){var o=this;var l=arguments[1];if(o.data("plugin_tooltipster")==b){var n=o.find("*");o=d();n.each(function(){if(d(this).data("plugin_tooltipster")!==b){o.push(d(this))}})}o.each(function(){switch(m.toLowerCase()){case"show":d(this).data("plugin_tooltipster").showTooltip();break;case"hide":d(this).data("plugin_tooltipster").hideTooltip();break;case"disable":d(this).addClass("tooltipster-disable");break;case"enable":d(this).removeClass("tooltipster-disable");break;case"destroy":d(this).data("plugin_tooltipster").hideTooltip();d(this).data("plugin_tooltipster","").attr("title",o.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":d(this).data("tooltipsterContent",l);break;case"reposition":d(this).data("plugin_tooltipster").positionTooltip();break}});return this}return this.each(function(){if(!d.data(this,"plugin_"+e)){d.data(this,"plugin_"+e,new h(this,m))}var p=d(this).data("plugin_tooltipster").options;if((p.iconDesktop==true)&&(!j())||((p.iconTouch==true)&&(j()))){var q=d(this).data("plugin_tooltipster");d(this).next().data("plugin_tooltipster",q)}})};if(j()){f.addEventListener("orientationchange",function(){if(d(".tooltipster-base").length>0){d(".tooltipster-base").each(function(){var l=d(this).data("origin");l.data("plugin_tooltipster").hideTooltip()})}},false)}d(f).on("resize.tooltipster",function(){var l=d(".tooltipster-base").data("origin");if((l!==null)&&(l!==b)){l.tooltipster("reposition")}})})(jQuery,window,document); 
/** jQuery-USOS 1.1.1 -- https://github.com/MUCI/jquery-usos */ 
(function(d){var v="_usosApiTable";function w(z,A){this._state=z;this._lastPublishedState=null;this.onStateChanged=A;this.publishState()}w.prototype.publishState=function(A){var z=this.getState();if((!A)&&(z==this.lastPublishedState)){return}this._lastPublishedState=z;this.onStateChanged(z)};w.prototype.getState=function(){return this._state};w.prototype.setState=function(z){this._state=z;this.publishState()};w.prototype.destroy=function(){};function x(B,z,C){this.paramName=B;this._lastPublishedState=null;this.onStateChanged=C;var A=this;d(window).bind("hashchange."+v,function(D){A.publishState()});if(this.getState()===null){this.setState(z)}else{this.publishState()}}x.prototype.publishState=function(A){var z=this.getState();if((!A)&&(z==this.lastPublishedState)){return}this._lastPublishedState=z;this.onStateChanged(z)};x.prototype.getState=function(){var z=d.bbq.getState(this.paramName);if(z){return z}return null};x.prototype.setState=function(A){var z={};z[this.paramName]=A;d.bbq.pushState(z)};x.prototype.destroy=function(){d(window).unbind("hashchange."+v)};var l=function(z){return(d.map(z,function(A){return(A.ascending?"":"-")+A.column})).join("|")};var p=function(z){return d.map(z.split("|"),function(A){return{column:A.replace("-",""),ascending:A[0]!="-"}})};var j=function(A){var z;if(A.currentOrder.length>0){z=A.currentOrder[0]}else{z={column:"",ascending:true}}A.elements.$sorters.each(function(){var B=d(this).data(v);if(B.orderRules[0].column==z.column){B.$img.attr("class",z.ascending?"ua-ascending":"ua-descending");d(this).closest("td").addClass("ua-sorted-by")}else{B.$img.removeClass("ua-ascending ua-descending");d(this).closest("td").removeClass("ua-sorted-by")}})};var n=function(z){return d.extend({},z.settings.params,{order_by:l(z.currentOrder),start:z.currentOffset,num:z.settings.pageLength})};var h=function(E){var A=d("<div>").addClass("ua-container").addClass("ua-table-container");var B=d("<table>").addClass("ua-table");if(E.nowrap){B.addClass("ua-ellipsis-tds")}A.append(B);var D=i(E);B.append(D);var z=d("<tbody>").addClass("ua-contents");B.append(z);var C=a(E);B.append(C);return A};var i=function(A){var z=d("<thead>");var B=d("<tr>");z.append(B);d.each(A.columns,function(C,D){var E=d("<td>");if(D.width){E.css("width",D.width)}if(D.align){E.css("text-align",D.align)}if(D.sortable){E.addClass("ua-sortable");E.append(d("<a>").attr("tabindex",0).addClass("ua-sorter").attr("data-ua-fields",D.field).html(D.label))}else{E.addClass("ua-nonsortable");E.html(D.label)}if(D.cssClass){d.each(D.cssClass.split(" "),function(G,F){if(F){E.addClass(F)}})}B.append(E)});if(A.actions.length>0){B.append(d("<td>").addClass("ua-nonsortable").addClass("ua-actions").css("width",(1+A.actions.length*19)+"px"))}return z};var u=function(z){var A=z.columns.length;if(z.actions.length>0){A++}return A};var s=function(C,B){if(!C.elements.$contents.is(":parent")){C.elements.$contents.html("<tr class='ua-placeholder'><td></td></tr>").find("td").attr("colspan",u(C.settings))}var A=C.elements.$div.find(".ua-overlay-background");if(A.length===0){A=d("<div>").addClass("ua-overlay-background").hide();C.elements.$div.append(A)}var z=C.elements.$div.find(".ua-overlay-foreground");if(z.length===0){z=d("<table>").addClass("ua-overlay-foreground").hide().append(d("<tr>").append(d("<td>")));C.elements.$div.append(z)}z.find("td").empty().append(B.clone());A.css("left",C.elements.$contents.position().left+1).css("top",C.elements.$contents.position().top+1).css("width",C.elements.$contents.width()-1).css("height",C.elements.$contents.height()-1).fadeIn("slow");z.delay(200).each(function(){if(!d.contains(document.documentElement,A[0])){return}z.css(C.elements.$contents.position()).css("width",C.elements.$contents.width()).css("height",C.elements.$contents.height()).fadeIn(500)})};var b=function(z){z.elements.$div.find(".ua-overlay-background").remove();z.elements.$div.find(".ua-overlay-foreground").remove()};var a=function(A){var z=d("<tfoot>").append(d("<tr>").append(d("<td>").attr("colspan",u(A)).append(d("<table>").css("width","100%").append(d("<tr>")))));z.find("table tr").append(d("<td>").css("vertical-align","middle").append(d("<div>").addClass("ua-summary"))).append(d("<td>").append(d("<ul>").addClass("ua-more").append(d("<div>").addClass("ua-prevpage").button({disabled:true,icons:{primary:"ui-icon-carat-1-w"},label:d.usosCore.lang("POPRZEDNIA STRONA","PREVIOUS PAGE")})).append(d("<div>").addClass("ua-nextpage").button({disabled:true,icons:{secondary:"ui-icon-carat-1-e"},label:d.usosCore.lang("NASTĘPNA STRONA","NEXT PAGE")}))));return z};var q=function(A,z){if(typeof z==="string"){z=d("<span>").text(z)}A.elements.$summary.empty().append(z.clone())};var c=function(z){return d("<td>").addClass("ua-datatype-langdict").append(d.usosCore.lang({langdict:z,wrapper:"jQuery.text"}))};var r=function(z){var A=d("<td>").addClass("ua-datatype-boolean");if(z){A.addClass("ua-true").text(d.usosCore.lang("TAK","YES"))}else{A.addClass("ua-false").text(d.usosCore.lang("NIE","NO"))}return A};var g="1";var f=function(z){return(g+","+z.offset+","+l(z.orderRules).replace(/\|/g,","))};var m=function(z){try{var A=z.split(",");if(A[0]=="1"){return{offset:parseInt(A[1],10),orderRules:p(A.slice(2).join("|"))}}else{throw"Unknown serializer version"}}catch(B){d.usosCore._console.error("Could not deserialize apiTable state:",B);return{offset:0,orderRules:[]}}};var k=function(z,A){if(!A.field){return d("<td>").text("Missing 'field' key in column spec.")}var C;var B=z;d.each(A.field.split("."),function(D,E){B=B[E]});if(typeof B==="object"){C=c(B)}else{if(typeof B==="number"){C=d("<td>").addClass("ua-datatype-number").text(B)}else{if(typeof B==="string"){C=d("<td>").addClass("ua-datatype-string").text(B)}else{if(typeof B==="boolean"){C=r(B)}else{if(B===null){C=d("<td>").append(d("<span>").addClass("ua-note").text(d.usosCore.lang("(brak danych)","(no data)")))}else{if(B===undefined){C=d("<td>").text("Missing field '"+A.field+"' in data feed.")}else{C=d("<td>").text("Unknown column data type.")}}}}}}return C};var t=function(z){return this.each(function(){var D=d(this);if(D.data(v)){D._usosApiTable("destroy")}D.empty();var F={};D.data(v,F);var B={hashParam:null,source_id:"default",method:null,params:{},offsetReset:false,columns:null,defaultOrder:null,pageLength:6,actions:[],emptyMessage:{pl:"Brak wyników",en:"No results"},nowrap:true};F.settings=d.extend({},B,z);D.append(h(F.settings));F.elements={$root:D,$div:D.find(".ua-table-container"),$table:D.find(".ua-table"),$summary:D.find(".ua-summary"),$sorters:D.find(".ua-sorter").each(function(){var I=d(this);var H=d("<div>").css("margin-left","3px").hide();I.after(H);var G=d("<span>").addClass("ua-loading").hide();H.after(G);I.data(v,{$img:H,$loader:G,orderRules:p(I.attr("data-ua-fields"))});if(I.parent().hasClass("ua-sortable")){I.parent().click(function(){I.trigger("click")})}}).click(function(){if(!F.initialized){return}var N=d(this).data(v);F.elements.$table.find("thead .ua-loading").hide();N.$loader.show();var M=d.map(N.orderRules,function(Q,P){return Q.column});F.currentOffset=0;var H=true;if(F.currentOrder.length>0&&F.currentOrder[0].column==M[0]&&F.currentOrder[0].ascending===true){H=false}var O=[];var G=[];var J;for(J=0;J<F.currentOrder.length;J++){if(d.inArray(F.currentOrder[J].column,M)!==-1){O[F.currentOrder[J].column]=F.currentOrder[J]}else{G.push(F.currentOrder[J])}}var I=[];for(J=0;J<M.length;J++){var L=null;if(O[M[J]]){L=O[M[J]];L.ascending=H}else{L={column:M[J],ascending:H}}I.push(L)}var K=I;for(J=0;J<G.length;J++){K.push(G[J])}F.stateCoordinator.setState(f({orderRules:K,offset:0}));return false}).keypress(function(G){if(G.which==13){d(this).click()}}),$contents:D.find(".ua-contents"),$prevPage:D.find(".ua-prevpage").click(function(){d(this).button("disable");F.stateCoordinator.setState(f({offset:F.currentOffset-F.settings.pageLength,orderRules:F.currentOrder}))}),$nextPage:D.find(".ua-nextpage").click(function(){d(this).button("disable");F.stateCoordinator.setState(f({offset:F.currentOffset+F.settings.pageLength,orderRules:F.currentOrder}))})};F.syncObject={};F.defaultAction=null;d.each(F.settings.actions,function(G,H){if(H.isDefault){if(F.defaultAction){d.usosCore._console.error("More than one default action defined.");return false}F.defaultAction=H}});F.currentOrder=null;F.currentOffset=0;var A=f({offset:0,orderRules:p(F.settings.defaultOrder)});var E=function(G){F.initialized=true;var H=m(G);F.currentOrder=H.orderRules;F.currentOffset=H.offset;D._usosApiTable("reload")};if(F.settings.hashParam){F.stateCoordinator=new x(F.settings.hashParam,A,E)}else{F.stateCoordinator=new w(A,E)}if(F.settings.offsetReset){var C=m(F.stateCoordinator.getState());C.offset=0;F.stateCoordinator.setState(f(C))}})};var o=function(){return this.each(function(){var z=d(this);var A=z.data(v);d.usosCore._console.log("Reloading with order "+l(A.currentOrder)+"...");j(A);s(A,d("<span>").addClass("ua-loading"));q(A,d("<span>").addClass("ua-loading").text(d.usosCore.lang("Wczytywanie...","Loading...")));d.usosCore.usosapiFetch({source_id:A.settings.source_id,method:A.settings.method,params:n(A),syncMode:"receiveLast",syncObject:A.syncObject,success:function(C){if(A.destroyed){return}A.elements.$contents.empty();d.each(C.items,function(F,D){var G=d("<tr>");G.data(v,D);d.each(A.settings.columns,function(I,H){var J;if(H.customTdFormatter){J=H.customTdFormatter(D)}else{J=k(D,H)}if(H.cssClass){d.each(H.cssClass.split(" "),function(L,K){if(K){J.addClass(K)}})}if(H.align){J.css("text-align",H.align)}if(A.settings.nowrap){J.on("mouseenter",function(){var M=d(this);if(M.attr("title")){return}var L=false;var K=M.clone().css({display:"inline",width:"auto",visibility:"hidden"}).appendTo("body");L=K.width()>M.width();K.remove();if(L){M.attr("title",M.text())}})}G.append(J)});if(A.settings.actions.length>0){var E=d("<td>").addClass("ua-actions");d.each(A.settings.actions,function(I,J){var H=d("<a>").attr("tabindex",0).addClass("ua-action-icon").append(d("<div>").addClass("ui-icon").addClass(J.iconClass)).attr("title",J.label).click(function(){J.click(D);return false}).keypress(function(K){if(K.which==13){d(this).click()}});if((J.isVisible)&&(!J.isVisible(D))){H.css("visibility","hidden")}E.append(H)});G.append(E)}A.elements.$contents.append(G)});if(A.defaultAction){A.elements.$contents.find("tr").hover(function(){d(this).addClass("ua-hovered")},function(){d(this).removeClass("ua-hovered")}).click(function(){A.defaultAction.click(d(this).data(v))})}A.elements.$nextPage.button(C.next_page?"enable":"disable");A.elements.$prevPage.button(A.currentOffset>0?"enable":"disable");A.elements.$table.colResizable({liveDrag:true,headerOnly:true});A.elements.$table.find("thead .ua-loading").hide();b(A);if(A.currentOffset+C.items.length===0){var B=d("<span>").html(d.usosCore.lang(A.settings.emptyMessage));s(A,B);q(A,"")}else{q(A,d.usosCore.lang("Pokazywane elementy ","Showing items ")+(A.currentOffset+1)+".."+(A.currentOffset+C.items.length))}},error:function(E,D,C){var B=d("<span>").html(d.usosCore.lang("Wystąpił błąd podczas wczytywania. Spróbuj odświeżyć stronę (F5).","There was an error while loading. Try to refresh the page (F5)."));s(A,B);q(A,B.clone(true));A.elements.$table.find("thead .ua-loading").hide()}})})};var y=function(){return this.each(function(){var A=d(this);var z=A.data(v);z.destroyed=true;z.stateCoordinator.destroy();z.elements.$root.find("*").addBack().unbind();A.removeData(v)})};var e={init:t,reload:o,destroy:y};d.fn._usosApiTable=function(z){if(e[z]){return e[z].apply(this,Array.prototype.slice.call(arguments,1))}else{if((typeof z==="object")||(!z)){return t.apply(this,arguments)}else{d.error("Method "+z+" does not exist on jQuery."+v)}}}})(jQuery);(function(g){var d="usosCore";var e={settings:null};var i=function(j){if(e.settings!==null){g.usosCore._console.error("jQuery.usosCore is already initialized! Subsequent calls to init will be ingored!");return}var k={debug:false,langpref:"en",usosAPIs:{"default":{methodUrl:null,extraParams:{}}},entityURLs:{"entity/users/user":null,"entity/fac/faculty":null,"entity/slips/template":null}};e.settings=g.extend(true,{},k,j)};var c=function(){var j=function(k){var l={};g.each(k,function(m,n){if(g.isArray(n)){n=n.join("|")}else{if(typeof n!=="string"){n=""+n}}l[m]=n});return l};return function(o){var k={source_id:"default",method:"method_name",params:{},syncMode:"noSync",syncObject:null,success:null,error:null};var n=g.extend({},k,o);if(n.syncMode=="noSync"){if(n.syncObject!==null){throw ("syncObject must stay null if syncMode is 'noSync'")}}else{if((n.syncMode=="receiveLast")||(n.syncMode=="receiveIncrementalFast")){if(n.syncObject===null){throw ("syncObject must be an object if syncMode is other than 'noSync'. Check out the docs!")}}else{throw ("Invalid syncMode: "+n.syncMode)}}var p=null;if(n.syncObject!==null){if(typeof n.syncObject.lastIssuedRequestId==="undefined"){n.syncObject.lastIssuedRequestId=0;n.syncObject.lastReceivedRequestId=0}n.syncObject.lastIssuedRequestId++;p=n.syncObject.lastIssuedRequestId}var m=e.settings.usosAPIs[n.source_id].methodUrl.replace("%s",n.method);var q=g.extend({},n.params,e.settings.usosAPIs[n.source_id].extraParams);var l=g.Deferred();g.ajax({type:"POST",url:m,data:j(q),dataType:"json",success:function(s,t,r){if(n.syncObject!==null){if(n.syncObject.lastReceivedRequestId>p){return}if((n.syncMode=="receiveLast")&&p<n.syncObject.lastIssuedRequestId){return}n.syncObject.lastReceivedRequestId=p}if(n.success!==null){n.success(s)}l.resolve(s)},error:function(v,u,s){if(n.syncObject!==null){if(n.syncObject.lastReceivedRequestId>p){return}n.syncObject.lastReceivedRequestId=p}var r;try{if(v&&v.responseText){r=g.parseJSON(v.responseText)}else{throw"Missing responseText"}}catch(t){r={message:"USOS API communication error."};g.usosCore._console.error("usosapiFetch: Failed to parse the error as JSON: "+t.message)}if(n.error!==null){n.error(r)}l.reject(r)}});if(n.syncMode=="noSync"){return l.promise()}}}();var b=function(){if(arguments.length==1){if(arguments[0]===null){return b({langdict:{pl:null,en:null}})}else{if(typeof arguments[0].langdict!=="undefined"){}else{if((typeof arguments[0].pl!=="undefined")||(typeof arguments[0].en!=="undefined")){return b({langdict:arguments[0]})}else{return b(arguments[0],arguments[0])}}}}else{if(arguments.length==2){return b({langdict:{pl:arguments[0],en:arguments[1]}})}else{if(arguments.length==0){return e.settings.langpref}else{throw ("Invalid arguments")}}}var k={langdict:null,langpref:"inherit",wrapper:"simple"};var n=g.extend({},k,arguments[0]);if(n.langpref=="inherit"){n.langpref=e.settings.langpref}var o,m,l;if(typeof n.langdict!=="object"){o=n.langdict;m=n.langdict}else{o=n.langdict.pl;m=n.langdict.en}if(n.wrapper=="none"){if(n.langpref=="pl"){return o}else{return m}}else{if(n.wrapper=="simple"){if(n.langpref=="pl"){if(o){l=o}else{if(m){l="(po angielsku) "+m}else{l="(brak danych)"}}}else{if(m){l=m}else{if(o){l="(in Polish) "+o}else{l="(unknown)"}}}return l}else{if((n.wrapper=="jQuery.text")||(n.wrapper=="jQuery.html")){var j,p;if(n.wrapper=="jQuery.html"){j="<div>";p="html"}else{j="<span>";p="text"}l=g(j);if(n.langpref=="pl"){if(o){l[p](o)}else{if(m){l.append(g(j).addClass("ua-note").text("(po angielsku)")).append(" ").append(g(j)[p](m))}else{l.append(g(j).addClass("ua-note").text("(brak danych)"))}}}else{if(m){l[p](m)}else{if(o){l.append(g(j).addClass("ua-note").text("(in Polish)")).append(" ").append(g(j)[p](o))}else{l.append(g(j).addClass("ua-note").text("(unknown)"))}}}return l}else{g.usosCore._console.error("Unknown wrapper "+n.wrapper+", assuming 'default'.");n.wrapper="default";return b(n)}}}};var h=function(){var l=function(n){if(typeof n==="object"){return g.extend(true,{},n)}else{return n}};var m=function(n){var p=[];for(var o=0;o<n.length;o++){p.push(l(n[o]))}return p};var k=false;var j={};g.each(["log","warn","error","assert"],function(n,o){j[o]=function(){if(e.settings.debug&&window.console&&window.console[o]){Function.prototype.apply.call(window.console[o],window.console,m(arguments));if(o=="error"&&(!k)){k=true;alert("There are errors in the jQuery-USOS console.")}}}});return j}();var a=function(k){var j=2000;var p=g("<div class='ua-paragraphs ua-container'>");if(typeof k==="object"&&k.user_messages&&k.user_messages.fields){j=0;g.each(k.user_messages.fields,function(q,r){p.append(g("<p style='font-size: 120%; line-height: 130%; margin-bottom: 25px'>").append(g("<b>").html(g.usosCore.lang(r))))});p.append(g("<p>").text(g.usosCore.lang("Jeśli powyższy komunikat jest niezrozumiały, to zalecamy odświeżyć stronę. Być może w trakcie, gdy ją oglądałeś, utraciłeś uprawnienia do wykonania akcji, którą chciałeś wykonać.","If the notice displayed above is vague, then we advise you to refresh the page. Perhaps you have just lost permissions to perform the action you've been trying to perform.")));var m=g("<a class='ua-link'>").html(g.usosCore.lang("Odśwież stronę","Reload the page")).click(function(){window.location.reload(true)});var o=g("<a class='ua-link'>").html(g.usosCore.lang("Zamknij i kontynuuj","Close and continue")).click(function(){p.dialog("close")});p.append(g("<p style='text-align: center; font-size: 120%; margin-top: 20px'>").append(m).append(" ").append(g("<span class='ua-note'>").css({display:"inline-block",width:"60px"})).append(" ").append(o));if(e.settings.debug){g.usosCore._console.warn("Displaying panic screen based on `user_messages` response. Try to use `yourValueInputs.usosForms('showErrors', response)` if possible.")}}else{p.append(g("<p style='font-size: 120%; margin-bottom: 25px'>").append(g("<b>").html(g.usosCore.lang({pl:"Wystąpił niespodziewany błąd.",en:"Unexpected error occured."}))));var l=g("<ul>");p.append(l);l.append(g("<li>").html(g.usosCore.lang("<p><b>Najpierw spróbuj odświeżyć stronę.</b> Odwieżenie strony często może pomóc, np. jeśli błąd jest spowodowany automatycznym wylogowaniem po dłuższej nieaktywności.</p><p style='font-size: 120%; margin-bottom: 18px'><a>Kliknij tutaj, aby odświeżyć stronę</a></p>","<p><b>First, try to refresh the page.</b> Refreshing can often help, particularly if the error occured due to an automatic user sign-out after a prolonged period of inactivity.</p><p style='font-size: 120%; margin-bottom: 18px'><a>Click here to refresh the page</a></p>")).each(function(){g(this).find("a").addClass("ua-link").click(function(){window.location.reload(true)})}));l.append(g("<li>").html(g.usosCore.lang("Spróbuj ponownie wykonać akcję, która spowodowała wystąpienie błędu. Być może był to jednorazowy błąd spowodowany chwilową utratą połączenia z Internetem?","Try to repeat the action which you were doing when the error occured. Perhaps it was a one-time network error caused by bad Internet connection?")));l.append(g("<li>").html(g.usosCore.lang("Upewnij się, czy posiadasz odpowiednie uprawnienia. Czy jesteś zalogowany? Być może musisz uzyskać pewne dodatkowe uprawnienia, aby móc wyświetlić stronę lub wykonać akcję, którą właśnie próbowałeś wykonać?","Make sure you have proper privileges. Are you signed in? Perhaps, you need to acquire some special privileges before you can view this page or perform this action?")));l.append(g("<li>").html(g.usosCore.lang("Jeśli problem będzie się powtarzał, to skontaktuj się z administratorem. Napisz na której stronie i w którym momencie problem wystąpuje, tak aby administrator mógł go dokładniej zbadać.","If the problem persists, contact the administrator. Try to include detailed descriptions of where and when the error occurs, so that the administrator will be able to examine it closely.")));p.append(g("<p style='text-align: center; font-size: 120%; margin-top: 20px'>").html(g("<a class='ua-link'>").html(g.usosCore.lang("Zamknij i kontynuuj","Close and continue")).click(function(){p.dialog("close")})))}var n=function(){p.dialog({dialogClass:"ua-panic-dialog",resizable:false,modal:true,width:"600px",height:"auto",closeText:g.usosCore.lang("Zamknij","Close")})};setTimeout(n,j)};var f=function(k,j){return function(){var n;var m=arguments;if((j=="getter")||((j=="auto")&&(arguments.length==0))){var l=undefined;this.each(function(){n=g(this).data("usosValue");l=n[k].apply(n,m);return false});return l}return this.each(function(o){n=g(this).data("usosValue");n[k].apply(n,m)})}};g[d]={_getSettings:function(){return e.settings},_console:h,_usosValueForward:f,init:i,usosapiFetch:c,lang:b,panic:a}})(jQuery);(function(c){var b="usosEntity";var a=function(g){var i={};var e=[];var h=function(j,k){i[j]=k;e.push(k)};switch(g){case"entity/users/user":h("user_id",arguments[1]);break;case"entity/fac/faculty":h("fac_id",arguments[1]);break;case"entity/slips/template":h("tpl_id",arguments[1]);break;case"entity/progs/programme":h("programme_id",arguments[1]);break;default:throw"Unknown entity: "+g}var f=c.usosCore._getSettings().entityURLs[g];if(typeof f==="null"){}if(typeof f==="function"){f=f.apply(null,e);if(typeof f!=="string"){f=null}}else{if(typeof f==="string"){c.each(i,function(j,k){f=f.replace("${"+j+"}",k)})}}return f};var d=function(h,g){var j;if(h){j=c("<a>").attr("class","ua-link")}else{j=c("<span>")}var f;var k;var i=g[0];if((g[1]===null)||(g[1]===undefined)){return c("<span class='ua-note'>").text(c.usosCore.lang("(brak danych)","(no data)"))}switch(i){case"entity/users/user":k=c.usosUtils.requireFields(g[1],"id|first_name|last_name");j.text(k.first_name+" "+k.last_name);f=a(i,k.id);break;case"entity/fac/faculty":case"entity/slips/template":k=c.usosUtils.requireFields(g[1],"id|name");j.text(c.usosCore.lang(k.name));f=a(i,k.id);break;case"entity/progs/programme":k=c.usosUtils.requireFields(g[1],"id|description");j.text(c.usosCore.lang(k.description));f=a(i,k.id);break;default:throw"Unknown entity: "+i}if(h&&f){j.attr("href",f)}return j};c[b]={label:function(){return d.call(null,false,arguments)},link:function(){return d.call(null,true,arguments)},url:a}})(jQuery);(function(c){var b="usosForms";var a={hideErrors:c.usosCore._usosValueForward("_hideErrors","setter"),showErrors:function(f){if((!f)||(!f.user_messages)){c.usosCore.panic(f);return false}var g=f.user_messages.fields;if(!g){c.usosCore.panic(f);return false}var e=c.extend({},f.user_messages.fields);this.each(function(){var h=c(this).data("usosValue")._showErrors(f);c.each(h,function(i,j){delete e[j]})});var d=0;c.each(e,function(){d++});if(d===0){return true}if(c.usosCore._getSettings().debug){c.usosCore._console.warn("showErrors: failed to match some fields. Will resolve to $.usosCore.panic. The following keys:",e,"were not found in",this)}this.usosForms("hideErrors");c.usosCore.panic(f);return false},flatValues:function(){var d={};this.each(function(){c.each(c(this).data("usosValue")._flatValues(),function(e,f){d[e]=f})});return d},values:function(){if(arguments.length==0){var d={};this.each(function(){var f=c(this).data("usosValue");d[f.options.name]=f.value()});return d}var e=arguments[0];this.each(function(){var f=c(this).data("usosValue");if(e[f.options.name]!==undefined){f.value(e[f.options.name])}});return this},findValueWidgets:function(){var d=this.find(".ua-usosvalue").addBack(".ua-usosvalue");var e=function(){return d.has(this).length>0};return d.not(e)}};c.fn[b]=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{c.error("Method "+d+" does not exist on jQuery."+b)}}})(jQuery);(function(c){var b="usosUtils";var e=function(){var f=function(m,l){var k=m;c.each(l,function(n,o){k=k[o];if(typeof k==="undefined"){return k}});return k};var g=function(o,n,m){var l=o;var k=n.length-1;c.each(n,function(p,q){if(p==k){l[q]=m}else{if(typeof l[q]==="undefined"){l[q]={}}l=l[q]}})};var i=function(l,k){return l};var j=function(l,m){var k={};var r=[];var q="";var t=m+"$";for(var n=0;n<t.length;n++){var o=t.charAt(n);if(o=="["||o=="]"||o=="|"||o=="$"){r.push(q);var p=null;if(q!==""){p=f(l,r);if(typeof p==="undefined"){c.usosCore._console.error("Required field "+r.join(".")+" not found.")}}if(o=="["){}else{if(o=="|"||o=="$"){if(q!==""){g(k,r,p)}r.pop()}else{if(o=="]"){if(q!==""){g(k,r,p)}r.pop();r.pop()}}}q=""}else{q+=o}}return k};var h=null;return function(){if(!h){h=c.usosCore._getSettings().debug?j:i}return h.apply(null,arguments)}}();var a=function(h){var g=h.split(/[\r\n]{2,}/);var f=c("<div>");c.each(g,function(i,j){f.append(c("<p>").text(j))});return f.children()};var d=function(i){var g;if(i instanceof c){g=i}else{g=c.usosCore.lang({langdict:i,wrapper:"jQuery.html"})}var f=g.text().length;var h;if(f<30){h="auto"}else{if(f<300){h="300px"}else{if(f<1200){var j=1-((1200-f)/900);h=(300+300*j)+"px"}else{h="600px"}}}return c("<div>").append(c("<div>").append(g).css("max-width",h)).html()};c[b]={_tooltipster_html:d,requireFields:e,makeParagraphs:a}})(jQuery);(function(c){var b="usosValue";var a={value:c.usosCore._usosValueForward("value","auto"),enable:c.usosCore._usosValueForward("enable","setter"),disable:c.usosCore._usosValueForward("disable","setter"),focus:c.usosCore._usosValueForward("focus","setter"),};c.fn[b]=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{c.error("Method "+d+" does not exist on jQuery."+b)}}})(jQuery);(function(a){a.widget("usosWidgets._usosValue",{options:{name:null,value:null},_init:function(){this.element.addClass("ua-usosvalue");this.element.data("usosValue",this);this.element.attr("data-name",this.options.name)},_destroy:function(){this._hideErrors();this.element.removeClass("ua-usosvalue")},_flattenValue:function(b){if(typeof b==="string"){return b}else{if(a.isArray(b)){return b.join("|")}else{if(b===null){return null}else{if(typeof b==="boolean"){return b?"true":"false"}}}}throw"Internal jQuery-USOS error. Invalid value for _flattenValue."},_flatValues:function(){var b={};var c=this.value();if(c!==null){b[this.options.name]=this._flattenValue(this.value())}return b},_showErrors:function(b){var c=b.user_messages.fields[this.options.name];if(c){this._displayError(c,this.options.name);return[this.options.name]}else{return[]}},_displayError:function(c,b){this.element.addClass("ua-error-shown").usosNotice({content:a.usosCore.lang(c)})},_hideErrors:function(){this.element.find(".ua-error-shown").addBack(".ua-error-shown").removeClass("ua-error-shown").usosNotice("hide")},_focus:function(){var b=this.element.find("input, textarea, select, button").first();b.trigger("focus")},focus:function(){if(!this.options.disabled){this._focus()}},disable:function(){this._super("disable");this.element.find(".ui-button").button("option","disabled",true);this.element.find("input, textarea, select, button").prop("disabled",true)},enable:function(){this._super("enable");this.element.find(".ui-button").button("option","disabled",false);this.element.find("input, textarea, select, button").prop("disabled",false)},value:function(c){var b=this;if(typeof c==="undefined"){return b.option("value")}b.option("value",c);return this}})})(jQuery);(function(a){a.widget("usosWidgets.usosCheckbox",a.usosWidgets._usosValue,{options:{value:false,caption:""},widgetEventPrefix:"usoscheckbox:",_init:function(){var b=this;b._super("_init");b._build()},_build:function(){var d=this;d.element.empty();var c;if(d.options.caption instanceof a){c=d.options.caption}else{c=a("<span>").html(a.usosCore.lang(d.options.caption))}d.element.append(a("<label>").append(a("<table class='ua-checkbox'>").append(a("<tr>").append(a("<td>").append(a("<input type='checkbox'>"))).append(a("<td>").append(c)))));var b=d.element.find("input");if(d.options.value){b.prop("checked",true)}b.on("change",function(f){d.options.value=b.prop("checked");d._trigger("change",f)})},_setOption:function(b,c){this._super(b,c);if(a.inArray(b,["caption"])!==-1){this._build()}else{if(b=="value"){this.element.find("input").prop("checked",c?true:false)}}return this},_destroy:function(){this.element.empty();this._super("_destroy")}})})(jQuery);(function(c){var a=false;var b=function(f){var h=c(window).scrollTop();var g=h+c(window).height();var d=c(f).offset().top;var e=d+c(f).height();return((e<=g)&&(d>=h))};c.widget("usosWidgets.usosNotice",{options:{content:"",scroll:true},widgetEventPrefix:"usosnotice:",_create:function(){var e=this;e.originalTitle=e.element.attr("title");e.element.tooltipster({trigger:"custom",interactive:true,content:c.usosUtils._tooltipster_html(e.options.content),onlyOne:false,position:"right",theme:"ua-tooltip ua-tooltip-error",functionReady:function(){e._tooltipReady()},functionAfter:function(){e.destroy()}});var d=function(){e.hide()};e._on(e.element.find(":focusable").addBack(":focusable"),{focus:d,keypress:d,change:d})},_init:function(){var d=this;d.element.tooltipster("show");d._scroll()},_scroll:function(){var e=this;var d=e.element.data("tooltipster");if(d&&e.options.scroll&&(!b(d))&&(!a)){a=true;c("html, body").animate({scrollTop:e.element.data("tooltipster").offset().top-30},500,function(){a=false})}},_tooltipReady:function(){var e=this;var d=e.element.data("tooltipster");d.css("pointer-events","");d.find(".tooltipster-content").css("pointer-events","auto");e._scroll();e._on(d.find(".tooltipster-content"),{click:function(){e._trigger(e.element.find(":focusable").addBack(":focusable").first(),"focus");e.hide()},mouseleave:function(){return false}})},hide:function(){this.element.tooltipster("hide")},_setOption:function(d,f){var e=this;e._super(d,f);if(d=="content"){e.element.tooltipster("update",c.usosUtils._tooltipster_html(e.options.content))}return e},_destroy:function(){this.element.tooltipster("destroy");if(this.originalTitle){this.element.attr("title",this.originalTitle)}else{this.element.removeAttr("title")}}})})(jQuery);(function(b){var a=function(d){var c=0;d.parents().each(function(){var e=parseInt(b(this).css("zIndex"),10);if(e>c){c=e}});return c};b.widget("usosWidgets.usosProgressOverlay",{options:{type:"loading",delay:300,opacity:0.8,fadeDuration:300},widgetEventPrefix:"usosprogressoverlay:",_create:function(){var c=this;c.bg=b("<div>").addClass("ua-progressoverlay-background").hide();b(document.body).append(c.bg);c.fg=b("<table>").addClass("ua-progressoverlay-foreground").hide().append(b("<tr>").append(b("<td>")));b(document.body).append(c.fg);c.fg.find("td").empty();c.bg.add(c.fg).css("z-index",a(c.element)).css("left",c.element.offset().left).css("top",c.element.offset().top).css("width",c.element.outerWidth()).css("height",c.element.outerHeight()).css("opacity",c.options.opacity).delay(c.options.delay).each(function(){if(b("body").has(c.bg).length>0){b(this).fadeIn(c.options.fadeDuration)}});var d;switch(c.options.type){case"loading":d=b.usosCore.lang("Wczytywanie...","Loading...");break;case"saving":d=b.usosCore.lang("Zapisywanie...","Saving...");break;default:throw ("Unknown type: "+c.options.type)}c.fg.find("td").append(b("<span>").attr("class","ua-loading").attr("title",d));c.fg.delay(c.options.delay+(c.options.fadeDuration/2)).each(function(){if(c.bg&&c.fg){c.fg.fadeIn(c.options.fadeDuration)}})},_destroy:function(){var c=this;if(c.bg){c.bg.stop(true).remove();delete c.bg}if(c.fg){c.fg.stop(true).remove();delete c.fg}},})})(jQuery);(function(a){a.widget("usosWidgets.usosSelectbox",a.usosWidgets._usosValue,{options:{width:"300px",value:"",options:[]},widgetEventPrefix:"usosselectbox:",_init:function(){var b=this;b._super("_init");b._build()},_createOption:function(d,e,c){var b=a("<option>").text(a.usosCore.lang(e));if(typeof d==="string"){b.attr("value",d)}else{b.attr("value","(complex)");b.data("value",d)}if(c){b.prop("selected",true)}return b},_getOptionValue:function(b){if(a(b).data("value")!==undefined){return a(b).data("value")}else{return a(b).attr("value")}},_getSelectValue:function(){var b=this.element.find("select option:selected");if(b.length>0){return this._getOptionValue(b)}else{return null}},_build:function(){var c=this;c.element.empty().append(a("<select class='ua-form'>").css("width",c.options.width));var d=c.value();var b=c.element.find("select");a.each(c.options.options,function(e,f){b.append(c._createOption(f.value,f.caption,d===f.value))});b.on("change",function(f){c.options.value=c._getSelectValue();c._trigger("change",f)})},_setOption:function(b,d){this._super(b,d);var c=this;if(a.inArray(b,["width","options"])!==-1){c._build()}else{if(b=="value"){c.element.find("select").val(d);if(c._getSelectValue()!==d){a.each(c.element.find("select option"),function(e,f){if(c._getOptionValue(f)===d){f.prop("selected",true);return false}})}}}return this},_destroy:function(){this.element.empty();this._super("_destroy")}})})(jQuery);(function(g){var h=null;var e=function(i){if(h===null){h={"entity/users/user":{prompt:g.usosCore.lang("Wpisz imię i nazwisko","Enter the user's name"),search:{method:"services/users/search",paramsProvider:function(j){return{name:j}},itemsExtractor:function(j){return j.items}},get:{method:"services/users/users",paramsProvider:function(j){return{user_ids:j.join("|"),fields:"id|first_name|last_name"}},itemsExtractor:function(k){var j=[];g.each(k,function(l,m){if(m===null){g.usosCore._console.warn("User "+l+" not found! Will be skipped!");return true}j.push(m)});return j}},idExtractor:function(j){return j.user_id||j.id},suggestionRenderer:function(k){var j=g("<div>");j.append(g("<span>").html(k.match));g.each(k.active_employment_functions,function(l,m){j.append(" ").append(g("<span class='ua-note'>").text("- "+g.usosCore.lang(m["function"])+" ("+g.usosCore.lang(m.faculty.name)+")"))});g.each(k.active_student_programmes,function(l,m){j.append(" ").append(g("<span class='ua-note'>").text("- "+g.usosCore.lang(m.programme.description)))});return j},tagRenderer:function(j){if(j.match){return g("<span>").html(j.match).text()}else{return j.first_name+" "+j.last_name}}},"entity/courses/course":{prompt:g.usosCore.lang("Wpisz nazwę przedmiotu","Enter a course name"),search:{method:"services/courses/search",paramsProvider:function(j){return{lang:g.usosCore.lang(),name:j}},itemsExtractor:function(j){return j.items}},get:{method:"services/courses/courses",paramsProvider:function(j){return{course_ids:j.join("|"),fields:"id|name"}},itemsExtractor:function(k){var j=[];g.each(k,function(m,l){if(l===null){g.usosCore._console.warn("Course "+m+" not found! Will be skipped!");return true}j.push(l)});return j}},idExtractor:function(j){return j.course_id||j.id},suggestionRenderer:function(j){return j.match},tagRenderer:function(l){var j;if(l.match){j=g("<span>").html(l.match).text();var k=j.indexOf(" ("+l.course_id+")");if(k>0){j=j.substring(0,k)}}else{j=g.usosCore.lang(l.name)}return g("<span>").text(j).css({"white-space":"nowrap",display:"inline-block",overflow:"hidden","max-width":"180px","text-overflow":"ellipsis"})}},"entity/fac/faculty":{prompt:g.usosCore.lang("Wpisz nazwę jednostki","Enter a faculty name"),search:{method:"services/fac/search",paramsProvider:function(j){return{lang:g.usosCore.lang(),fields:"id|match|name",query:j}},itemsExtractor:function(j){return j.items}},get:{method:"services/fac/faculties",paramsProvider:function(j){return{fac_ids:j.join("|"),fields:"id|name"}},itemsExtractor:function(k){var j=[];g.each(k,function(l,m){if(m===null){g.usosCore._console.warn("Faculty "+l+" not found! Will be skipped!");return true}j.push(m)});return j}},idExtractor:function(j){return j.fac_id||j.id},suggestionRenderer:function(j){return j.match},tagRenderer:function(k){var j=g.usosCore.lang(k.name);return g("<span>").text(j).css({"white-space":"nowrap",display:"inline-block",overflow:"hidden","max-width":"250px","text-overflow":"ellipsis"})}},"entity/slips/template":{prompt:g.usosCore.lang("Wpisz nazwę szablonu obiegówki","Enter a slip template name"),search:{method:"services/slips/search_templates",paramsProvider:function(j){return{langpref:g.usosCore.lang(),fields:"id|match|name|state",query:j}},itemsExtractor:function(j){return j.items}},get:{method:"services/slips/templates",paramsProvider:function(j){return{tpl_ids:j.join("|"),fields:"id|name"}},itemsExtractor:function(k){var j=[];g.each(k,function(m,l){if(l===null){g.usosCore._console.warn("Template "+m+" not found! Will be skipped!");return true}j.push(l)});return j}},idExtractor:function(j){return j.id},suggestionRenderer:function(k){var j=g("<div>");j.append(g("<span>").html(k.match));if(k.state!="active"){j.append(" ").append(g("<span class='ua-note'>").text(k.state=="draft"?g.usosCore.lang("(kopia robocza)","(draft)"):g.usosCore.lang("(przestarzały)","(obsolete)")))}return j},tagRenderer:function(j){return g("<span>").text(j.name).css({"white-space":"nowrap",display:"inline-block",overflow:"hidden","max-width":"250px","text-overflow":"ellipsis"}).click(function(){var k=g.usosEntity.url("entity/slips/template",j.id);if(!k){return}var l=g.usosCore.lang('Przejść do strony szablonu "'+j.name+'"?','Go to the "'+j.name+'" template page?');if(confirm(l)){document.location=k}})}}}}if(!(i in h)){throw"Unknown entity: "+i}return h[i]};var f=function(j,i){return JSON.stringify(j)==JSON.stringify(i)};var c=function(){return 0.25};var d=null;var b=function(i,j){a();d=setTimeout(function(){d=null;j()},i*1000)};var a=function(){if(d){clearTimeout(d);d=null}};g.widget("usosWidgets.usosSelector",g.usosWidgets._usosValue,{options:{entity:null,source_id:"default",width:"300px",multi:false,value:null,searchParams:{}},widgetEventPrefix:"usosselector:",_init:function(){this._super("_init");this._recreate()},_setOption:function(i,j){this._super(i,j);if(g.inArray(i,["entity","width","multi"])!==-1){this._recreate()}else{if(i=="value"){this.value(i,j)}}return this},_recreate:function(){this._entitySetup=e(this.options.entity);this._knownItems={};this.element.empty().addClass("ua-container ua-selector").css("width",this.options.width).append(g("<textarea>").attr("rows","1").css("width",this.options.width));this._suggestionsSyncObject={};this._previousValue=this.options.multi?[]:null;this._textarea=this.element.find("textarea");var i=this.element.offset().top;var j=g(document).height()-(this.element.offset().top+this.element.height());var k=this;k._textarea.textext({plugins:"autocomplete tags focus prompt",prompt:k._entitySetup.prompt,autocomplete:{dropdown:{maxHeight:"200px",position:(j>200)?"below":((i>j)?"above":"below")},render:function(m){var l=g("<span>").html(k._entitySetup.suggestionRenderer(k._knownItems[m]));l.find("*").addBack().addClass("text-label");return l}},ext:{tags:{renderTag:function(l){var m=g(this.opts("html.tag"));m.find(".text-label").html(k._entitySetup.tagRenderer(k._knownItems[l]));m.data(k.widgetFullName,k._knownItems[l]);m.data("text-tag",l);return m}}}}).bind("getSuggestions",function(o,n){var p=g(this);var l=g(o.target).textext()[0];var m=(n?n.query:"")||"";b(c(),function(){g.usosCore.usosapiFetch({source_id:k.options.source_id,method:k._entitySetup.search.method,params:g.extend({},k.options.searchParams,k._entitySetup.search.paramsProvider(m)),syncMode:"receiveIncrementalFast",syncObject:k._suggestionsSyncObject,success:function(r){var q=[];g.each(k._entitySetup.search.itemsExtractor(r),function(s,t){var u=k._entitySetup.idExtractor(t);k._knownItems[u]=t;q.push(u)});p.trigger("setSuggestions",{result:q})},error:function(s,r,q){k._textarea.usosNotice({content:g.usosCore.lang("Nie udało się wczytać listy sugestii. Spróbuj odświeżyć stronę (F5).","Could not load the list of suggestions. Try to refresh tha page (F5).")})}})})}).bind("isTagAllowed",function(n,m){if(!k._knownItems[m.tag]){k._textarea.usosNotice({content:g.usosCore.lang("Przed wciśnięciem Enter należy poczekać na załadowanie listy sugestii.","Before pressing Enter, you should wait until the suggestions show up.")});m.result=false;return}var l=k._getIds();if((!k.options.multi)&&(l.length>0)){k._setIds([]);return}if(k.options.multi&&g.inArray(m.tag,l)!==-1){k._textarea.usosNotice({content:g.usosCore.lang("Ta pozycja już znajduje się na liście.","This item is already on the list.")});m.result=false;return}}).bind("setFormData",function(){var l=k.element.usosSelector("value");k.options.value=l;if(!k.options.multi){if(l===null){k._markUnfilled()}else{k._markFilled()}}if(!f(l,k._previousValue)){k._previousValue=l;k._trigger("change")}});if(k.options.value){k.element.usosSelector("value",k.options.value)}},_markFilled:function(){this.element.addClass("ua-filled")},_markUnfilled:function(){this.element.removeClass("ua-filled")},_getIds:function(){var i=[];var j=this;g.each(j._textarea.textext()[0].tags().tagElements(),function(k,l){i.push(j._entitySetup.idExtractor(g(l).data(j.widgetFullName)))});return i},_setIds:function(j){var l=this;var m=l._textarea.prop("disabled");l._textarea.prop("disabled",true);var i=function(){g.each(l._getIds(),function(o,p){l._textarea.textext()[0].tags().removeTag(p)});var n=j.filter(function(o){return typeof l._knownItems[o]!=="undefined"});l._textarea.textext()[0].tags().addTags(n);l._textarea.prop("disabled",m);if(n.length<j.length){l._textarea.usosNotice({content:g.usosCore.lang("Wystąpił błąd podczas wczytywania wartości tego pola. Sprawdź, czy pole zawiera pożądaną wartość. Jeśli problem będzie się powtarzał, proszę skontaktować się z administratorem.","Error occured while loading values for this form field. Check if the field has the proper value. If this problem persists, please contact the administrator.")})}};var k=j.filter(function(n){return typeof l._knownItems[n]==="undefined"});if(k.length>0){l.element.usosProgressOverlay();g.usosCore.usosapiFetch({source_id:l.options.source_id,method:l._entitySetup.get.method,params:l._entitySetup.get.paramsProvider(k),success:function(n){l.element.usosProgressOverlay("destroy");g.each(l._entitySetup.get.itemsExtractor(n),function(o,p){var q=l._entitySetup.idExtractor(p);l._knownItems[q]=p});i()},error:function(p,o,n){l._textarea.usosNotice({content:g.usosCore.lang("Wystąpił błąd podczas wczytywania wartości tego pola. Spróbuj odświeżyć stronę (F5).","Error occured while loading values for this form field. Try to refresh the page (F5).")})}})}else{i()}},value:function(j){if(typeof j==="undefined"){var i=this._getIds();if(this.options.multi){return i}else{if(i.length===0){return null}else{return i[0]}}}if(this.options.multi){this._setIds(j)}else{if(j===null){this._setIds([])}else{this._setIds([j])}}return this},_destroy:function(){this.element.empty();this._super("_destroy")}})})(jQuery);(function(a){a.widget("usosWidgets.usosTextbox",a.usosWidgets._usosValue,{options:{value:"",placeholder:null,multiline:false},widgetEventPrefix:"usostextbox:",_init:function(){var b=this;b._super("_init");b._build();if(this.options.disabled){this.disable()}},_build:function(){var c=this;c.element.empty();var b;var d;if(!c.options.multiline){b=a("<input type='text' class='ua-form'>");d=300}else{b=a("<textarea class='ua-form'>");d=450}c.element.append(b);if(c.options.disabled){b.prop("disabled",true)}b.css("width",(d-9)+"px");b.val(c.options.value);if(c.options.placeholder){b.attr("placeholder",a.usosCore.lang(c.options.placeholder))}b.on("change",function(f){c.options.value=b.val();c._trigger("change",f)})},_setOption:function(b,c){this._super(b,c);if(a.inArray(b,["placeholder","multiline"])!==-1){this._build()}else{if(b=="value"){this.element.find("input, textarea").val((c===null)?"":c)}}return this},_destroy:function(){this.element.empty();this._super("_destroy")}})})(jQuery);(function(b){b.widget("usosWidgets.usosTip",{options:{content:"",position:"top"},widgetEventPrefix:"usostip:",defaultElement:"<span>",_create:function(){var e=this;e.element.empty();e.element.append(b("<div class='ua-tip'><div/></div>"));var d=null;var c=null;if(typeof e.options.content==="function"){d=b.usosCore.lang("Wczytywanie...","Loading...");c=e.options.content}else{d=e.options.content}e.img=e.element.find(".ua-tip div");e.img.tooltipster({content:b.usosUtils._tooltipster_html(d),onlyOne:false,delay:c?200:50,speed:0,position:e.options.position,theme:"ua-tooltip ua-tooltip-info",functionReady:function(){if(c===null){return}var f=c.apply(e.element);c=null;f.done(function(g){e.img.tooltipster("update",b.usosUtils._tooltipster_html(g))}).fail(function(){var g=b.usosCore.lang("Nie udało się załadować treści podpowiedzi. Odśwież stronę i spróbuj ponownie.","Could not load the content of the tip. Refresh the page and try again.");e.img.tooltipster("update",b.usosUtils._tooltipster_html(g))})}});e.img.attr("tabindex",0);e._on(e.img,{focus:function(){e.img.tooltipster("show")},blur:function(){e.img.tooltipster("hide")}})},_setOption:function(c,e){var d=this;this._super(c,e);if(c=="content"){d.img.tooltipster("update",b.usosUtils._tooltipster_html(d.options.content))}return d},_destroy:function(){this.img.tooltipster("destroy");this.element.empty()}});var a=function(){if(arguments.length==1){if(arguments[0] instanceof b){return a({content:arguments[0]})}else{if(typeof arguments[0].content!=="undefined"){}else{if((typeof arguments[0].pl!=="undefined")||(typeof arguments[0].en!=="undefined")){return a({content:arguments[0]})}else{if(typeof arguments[0]==="function"){return a({content:arguments[0]})}else{return a(arguments[0],arguments[0])}}}}}else{if(arguments.length==2){return a({content:{pl:arguments[0],en:arguments[1]}})}else{throw ("Invalid arguments")}}return b("<span>").usosTip(arguments[0])};b.usosWidgets.usosTip.create=a})(jQuery);